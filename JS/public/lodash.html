<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lodash Tutorial</title>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script src="./js/lodash.min.js"></script>
    <script src="./js/lodash.js"></script>
    <script src="./js/index.js"></script>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/index.css">
</head>

<body>
    <button id="scrollTopBtn" title="Go to top">⬆</button>
    <h1 class="center">Lodash Tutorial</h1>
    <h2 class="center">Getting Started with Lodash</h2>
    <a href="./index.html" rel="noopener noreferrer">
        <button class="btn btn-primary">← Back</button>
    </a>
    <div class="container">
        <p>Lodash is a modern JavaScript utility library delivering modularity, performance, and extras.</p>
        <div class="row">
            <h4>_.chunk(array, size)</h4>
            <p>Creates an array of elements split into groups the length of size.</p>
            <pre>
                    <code>_.chunk(['a', 'b', 'c', 'd'], 2); // => [['a', 'b'], ['c', 'd']]
                    </code>
                    const items = [1, 2, 3, 4, 5, 6, 7];
                    const chunked = _.chunk(items, 3);
                    console.log(chunked);
                    <span class="badge text-bg-success">Output</span> : [ [1, 2, 3] , [4, 5, 6] , [7]]
                </pre>
            <p><span class="badge text-bg-warning">Note</span> : If size is 0 or less, you'll get an empty array</p>
            <pre>
                    _.chunk([1, 2, 3], 0); // => []
                </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.compact(array)</h4>
            <p>Removes all falsy values from an array.</p>
            <p>Falsy Values in js: <b>false</b> , <b>0</b> , <b>'' (empty string)</b> , <b>null</b> , <b>undefined</b> ,
                <b>NaN</b>
            </p>
            <pre>

                    const messyArray = [0, 1,,3,2,1, false, 2, '', 3, null, undefined, NaN,'hi'];
                    const cleanArray = _.compact(messyArray);
                    console.log(cleanArray); 
                    <span class="badge text-bg-success">Output</span> : [1,3,2,1,2,3, 'hi']
                </pre>
            <p><span class="badge text-bg-warning">Note</span> : It only removes falsy values, not other "empty-like"
                values like [] or {}.</p>
            <pre>
                _.compact([{}, [], 0, false]);  // Output: [{}, []] — only 0 and false are removed
            </pre>
        </div>
        <hr>
        <div class="row">
            <h4> _.concat(array, values...)</h4>
            <p>Creates a new array by concatenating the given arrays and/or values.</p>
            <pre>
                const selected = ['Apple'];
                const newItems = ['Banana', 'Mango'];
                const updatedList = _.concat(selected, newItems, 'Orange');
                console.log(updatedList); 
                <span class="badge text-bg-success">Output</span> : ['Apple', 'Banana', 'Mango', 'Orange']
            </pre>
            <p><span class="badge text-bg-warning">Note</span> : If you pass nested arrays, only the first level is
                added directly./p>
            <pre>
                    _.concat([1], [[2, 3]]); // Output: [1, [2, 3]] — not [1, 2, 3]
                </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.difference(array, values)</h4>
            <p>Returns a new array with the values from the first array that are not present in the second (or more)
                arrays.</p>
            <pre>
                const allTags = ['React', 'Angular', 'Vue', 'Svelte','Node.js'];
                const selectedTags = ['React', 'Vue'];
                const unselected = _.difference(allTags, selectedTags);
                console.log(unselected);
                <span class="badge text-bg-success">Output</span> : ['Angular', 'Svelte', 'Node.js']
            </pre>
            <p><span class="badge text-bg-warning">Note</span> : It compares values using strict equality (===). It only
                works well for primitive values like strings, numbers, etc.</p>
        </div>
        <hr>
        <div class="row">
            <h4>_.differenceBy(array, values, iteratee)</h4>
            <p>Returns a new array with the values from the first array that are not present in the second (or more)
                arrays.</p>
            <pre>
                const setA = [{ id: 1 }, { id: 2 }, { id: 3 }];
                const setB = [{ id: 2 }];
                const resultSet = _.differenceBy(setA, setB, 'id');
                console.log(resultSet);
                <span class="badge text-bg-success">Output</span> : [ { id: 1 }, { id: 3 } ]
            </pre>
            <p><span class="badge text-bg-warning">Note</span> : It only does shallow comparison, not deep.</p>
            <pre>
                const setA = [{ id: 1 }, { id: 2 }, { id: 3 },{ id: 3 }];
                const setB = [{ id: 2 }];
                const resultSet = _.differenceBy(setA, setB, 'id');
                console.log(resultSet);
                <span class="badge text-bg-success">Output</span> : [ { id: 1 }, { id: 3 }, { id: 3 } ]
            </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.differenceWith(array, values, comparator)</h4>
            <p>Returns a new array with the values from the first array that are not present in the second (or more)
                arrays.</p>
            <pre>
                const aSet = [
                        { id: 1,name:'Alice' }, 
                        { id: 2,name:'Bob' }, 
                        { id: 3,name:'Charlie' },
                        { id: 5 ,name:'Logi' }, 
                        { id: 6 ,name:'Ravi' }
                    ];

                const bSet = [
                    { id: 2 ,name:'Raja' },
                    { id: 2 ,name:'Rani' },
                    { id: 5 ,name:'Logi' }
                ];
                const setresult = _.differenceWith(aSet, bSet, (a, b) => a.id == b.id && a.name == b.name);
                console.log(setresult);
                <span class="badge text-bg-success">Output</span> :
                [
                    { id: 1, name: 'Alice' },
                    { id: 2, name: 'Bob' },
                    { id: 3, name: 'Charlie' },
                    { id: 6, name: 'Ravi' }
                ];
            </pre>
            <p>
                <span class="badge text-bg-warning">Note</span> : Remove from aSet if both id and name match any object
                in bSet
            </p>
        </div>
        <hr>
        <div class="row">
            <h4>_.drop(array, n=1)</h4>
            <p>Creates a new array with the first n elements removed from the original array.</p>
            <pre>
                <p>E.g : 1</p>
                const numbers = [1, 2, 3, 4, 5];
                const dropped = _.drop(numbers, 2);
                console.log(dropped);
                <span class="badge text-bg-success">Output</span> : [ 3, 4, 5 ]
                <p>E.g : 2</p>
                const dataArr = [
                    { id: 1, name: 'Alice' }, 
                    { id: 2, name: 'Bob' }, 
                    { id: 3, name: 'Charlie' }, 
                    { id: 4, name: 'David' }, 
                    { id: 5, name: 'Eve' }
                ];
                const droppedArr = _.drop(dataArr, 2);
                console.log(droppedArr);
               <span class="badge text-bg-success">Output</span> : 
                        [ 
                            { id: 3, name: 'Charlie' }, 
                            { id: 4, name: 'David' }, 
                            { id: 5, name: 'Eve' } 
                        ]
            </pre>
        </div>
        <hr>
        <div class="row">
            <h4> _.fill(array, fill value, start, end)</h4>
            <p>Fills elements of an array with a specific value from start index to end index (not inclusive).</p>
            <pre>
                <p>E.g : 1</p>
                const arr = [1, 2, 3];
                _.fill(arr, '*');
                console.log(arr);
                <span class="badge text-bg-success">Output</span> : ['*', '*', '*']
                <p>E.g : 2</p>
                const arr2 = [1, 2, 3, 4, 5];
                _.fill(arr2, 0, 1, 4);
                console.log(arr2);
                <span class="badge text-bg-success">Output</span> : [1, 0, 0, 0, 5] - fills elements from index 1 to 4 with 0, 4 is not included
             </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.findIndex(array, condition)</h4>
            <p>Returns the index of the first element in the array that matches the condition you define. If nothing
                matches, it returns -1.</p>
            <pre>
                <p>E.g : 1</p>
               const users = [
                    { id: 1, name: 'Anbu' },
                    { id: 2, name: 'Babu' },
                    { id: 3, name: 'Charlie' }
                ];
                const index = _.findIndex(users, user => user.name === 'Babu');
                console.log(index);
                <span class="badge text-bg-success">Output</span> : 1
                <p>E.g : 2</p>
                const index2 = _.findIndex(users, user => user.name === 'David');
                console.log(index2);
                <span class="badge text-bg-success">Output</span> : -1 - David is not found in the array
            </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.findLastIndex(array, condition)</h4>
            <p>Returns the index of the last element in the array that matches the condition you define. If nothing
                matches, it returns -1.</p>
            <pre>
                <p>E.g : 1</p>
               const usersList = [
                    { id: 1, name: 'Raj' },
                    { id: 2, name: 'John' },
                    { id: 3, name: 'Raj' }
                ];
                    const indexVal = _.findLastIndex(usersList, { name: 'Raj' });
                    console.log(indexVal);
                <span class="badge text-bg-success">Output</span> : 2
            </pre>
            <p>
                <span class="badge text-bg-warning">Note</span> : findLastIndex starts searching from the end of the
                array (right to left)
            </p>
        </div>
        <hr>
        <div class="row">
            <h4>_.flatten(array)</h4>
            <p>Flattens a nested array into a single-level array.</p>
            <pre>
                E.g : 1
                // If you have a simple nested array, it flattens it to one level
                const nestedArray = [1, [2, 3], [4]];
                const flatArray = _.flatten(nestedArray);
                console.log(flatArray);
                <span class="badge text-bg-success">Output</span> : [1, 2, 3, 4] - only one level is flattened
                E.g : 2
                // If you have deeper nesting, it only flattens one level at a time
                const nestedArray1 = [1, [2, [3, 4]], 5];
                const flatArray1 = _.flatten(nestedArray1);
                console.log(flatArray1);
                <span class="badge text-bg-success">Output</span> : [1, 2, [3, 4], 5]
            </pre>
            <p><span class="badge text-bg-warning">Note</span> : flatten only goes one level deep</p>
        </div>
        <hr>
        <div class="row">
            <h4>_.flattenDeep(array)</h4>
            <p>Flattens a nested array recursively.</p>
            <pre>
                E.g : 1
                const mixArr = [1, [2, [3, [4, [5]]]]];
                const resultArr = _.flattenDeep(mixArr);
                console.log(resultArr);
                <span class="badge text-bg-success">Output</span> : [1, 2, 3, 4, 5]
                E.g : 2
               const categories = [
                            ['tech'],
                            ['health', [['yoga', ['meditation']]]],
                            ['sports'],
                            [ ['football']],
                            ['swimming'],
                            ['diving']
                        ];
                const allCategories = _.flattenDeep(categories);
                console.log(allCategories);
                <span class="badge text-bg-success">Output</span> : [
                                    'tech', 'health', 'yoga', 
                                    'meditation','sports', 
                                    'football',  'swimming', 
                                    'diving'
                                ]
            </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.flattenDepth(array, depth)</h4>
            <p>Flattens a nested array up to the specified depth.</p>
            <pre>
                const food = [
                        ['idly', 'dosa'],['briyani', ['samosa']],
                        ['sambar', [['briyani', ['samosa']]]],
                        ['pasta'],['chicken'],
                        ['pizza', [['burger', ['fries']]]],
                        [ ['pizza']],
                        ['burger'],
                        ['fries']
                    ];
                const allFood = _.flattenDepth(food, 5);
                console.log(allFood);
                <span class="badge text-bg-success">Output</span> : 
                    [
                        'idly', 'dosa', 'briyani', 'samosa', 'sambar', 
                        'briyani', 'samosa', 'pasta', 'chicken', 'pizza', 
                        'burger', 'fries', 'pizza', 'burger', 'fries'
                    ]
            </pre>
            <p><span class="badge text-bg-warning">Note</span> : 'briyani', 'samosa', 'pizza', 'burger', and 'fries'
                appear multiple times because they are repeated in different levels and combinations.
                <b>_.flattenDepth does NOT remove duplicates</b>
            </p>
        </div>
        <hr>
        <div class="row">
            <h4>_.indexOf(array, value, [fromIndex=0])</h4>
            <p>Returns the index of the first occurrence of value in the array.
                Returns -1 if the value is not found.</p>
            <pre>
                    E.g : 1
                    const identity = _.indexOf([10, 20, 30, 20], 20);
                    console.log(identity);
                    <span class="badge text-bg-success">Output</span> : 1 - 20 is found at index 1
                    E.g : 2
                    const selectedColors = ['red', 'green', 'blue'];
                    const chooseColors = ['red', 'blue'];

                    if (_.indexOf(selectedColors, 'green') !== -1) {
                    console.log('Already Available!'); //  green is in selectedColors
                    }

                    if (_.indexOf(chooseColors, 'green') === -1) {
                    console.log('Not Available!'); // green is not in chooseColors
                    }
                </pre>
        </div>
        <hr>
        <div class="row">
            <h4>_.initial(array)</h4>
            <p>Returns a new array with all elements except the last one.</p>
            <pre>
                const numbers = [1, 2, 3, 4, 5];
                const initialNumbers = _.initial(numbers);
                console.log(initialNumbers);
                <span class="badge text-bg-success">Output</span> : [1, 2, 3, 4] - removes the last element (5)
            </pre>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                <h4>_.intersection([arrays])</h4>
                <p>Returns a new array of values that are included in all given arrays.</p>
                <pre>
            const fromSearch = ['spa', 'facial', 'massage'];
            const fromFavorites = ['massage', 'haircut', 'spa'];
            const common = _.intersection(fromSearch, fromFavorites);
            <span class="badge text-bg-success">Output</span> : ['spa', 'massage']
                </pre>
            </div>
            <div class="col">
                 <h4>_.intersectionBy(arr1, arr2, iteratee)</h4>
                <p>compares values based on a given key or function (called an iteratee).</p>
                <pre>
            const userCart = [
                 { productId: 101 },
                 { productId: 202 }
            ];

            const discountItems = [
                { productId: 202 },
                { productId: 303 }
            ];

            const eligibleDiscounts = _.intersectionBy(userCart, discountItems, 'productId');
            console.log(eligibleDiscounts);
            <span class="badge text-bg-success">Output</span> : [{ productId: 202 }]
                </pre>
                <p><span class="badge text-bg-warning">Note</span> : It finds common items by comparing their id.</p>
            </div>
        </div>
    </div>
    <script>
        const scrollBtn = document.getElementById('scrollTopBtn');
        window.onscroll = function () {
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                scrollBtn.style.display = "flex";
            } else {
                scrollBtn.style.display = "none";
            }
        };
        scrollBtn.onclick = function () {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        };
    </script>
</body>

</html>